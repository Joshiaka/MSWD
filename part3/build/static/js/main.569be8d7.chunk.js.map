{"version":3,"sources":["Filter.js","PersonForm.js","Person.js","Persons.js","services/persons.js","Notification.js","App.js","index.js"],"names":["Filter","_ref","value","onChange","react_default","a","createElement","PersonForm","onSubmit","name","onNameChange","number","onNumberChange","type","Person","person","onRemove","onClick","Persons","persons","nameFilter","filter","p","toLowerCase","includes","map","i","src_Person","key","id","baseUri","services_persons","axios","get","then","res","data","newPerson","post","delete","concat","changedPerson","put","Notification","message","className","success","error","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setnameFilter","_useState9","_useState10","notificationMessage","setNotificationMessage","_useState11","_useState12","notificationType","setNotificationType","useEffect","personsService","showNotification","setTimeout","src_Notification_0","src_Filter","event","target","src_PersonForm","preventDefault","matchPerson","find","trim","undefined","personToUpdate","window","confirm","updatedPerson","objectSpread","catch","updatePerson","errorMessage","response","src_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.569be8d7.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({value, onChange}) => {\r\n  return (\r\n    <div>\r\n      filter shown with: <input value={value} onChange={onChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst PersonForm = ({onSubmit, name, onNameChange, number, onNumberChange}) => \r\n  <form onSubmit={onSubmit}>\r\n    <div>\r\n      name: <input value={name} onChange={onNameChange} />\r\n    </div>\r\n    <div>\r\n      number: <input value={number} onChange={onNumberChange}/>\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Person = ({person, onRemove}) => {\r\n  const {name, number} = person\r\n  \r\n  return (\r\n    <tr>\r\n      <td>{name}</td>\r\n      <td>{number}</td>\r\n      <td>\r\n        <button type=\"button\" onClick={onRemove}>delete</button>\r\n      </td>\r\n    </tr>\r\n  )\r\n}\r\n\r\nexport default Person\r\n","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({persons, nameFilter, onRemove}) => {\r\n  const returnRows = () => {\r\n    const personsToShow = nameFilter\r\n      ? persons.filter(p => p.name.toLowerCase().includes(nameFilter.toLowerCase()))\r\n      : persons\r\n\r\n    return personsToShow.map((person, i) => <Person key={person.id} person={person} onRemove={() => onRemove(person.id)}/>)\r\n  }\r\n\r\n  return (\r\n    <table>\r\n      <tbody>\r\n        {returnRows()}\r\n      </tbody>\r\n    </table>\r\n  )\r\n}\r\n\r\nexport default Persons\r\n","import axios from 'axios'\r\n\r\nconst baseUri = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios\r\n    .get(baseUri)\r\n    .then(res => res.data)\r\n}\r\n\r\nconst create = (newPerson) => {\r\n  return axios\r\n    .post(baseUri, newPerson)\r\n    .then(res => res.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  return axios\r\n    .delete(`${baseUri}/${id}`)\r\n}\r\n\r\nconst update = (id, changedPerson) => {\r\n  return axios\r\n    .put(`${baseUri}/${id}`, changedPerson)\r\n    .then(res => res.data)\r\n}\r\n\r\nexport default {\r\n  getAll,\r\n  create,\r\n  remove,\r\n  update\r\n}","import React from 'react'\r\nimport './Notification.css'\r\n\r\nconst Notification = ({message, type}) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  const styleTypes = {\r\n    success: 'notification-success',\r\n    error: 'notification-error'\r\n  }\r\n\r\n  return (\r\n    <div className={`notification ${styleTypes[type]}`}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './Filter'\nimport PersonForm from './PersonForm'\nimport Persons from './Persons'\nimport personsService from './services/persons'\nimport Notification from './Notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ nameFilter, setnameFilter ] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [notificationType, setNotificationType] = useState('success')\n\n  useEffect(() => {\n    personsService.getAll()\n      .then(persons => {\n        setPersons(persons)\n      })\n  }, [])\n\n  const showNotification = (message, type) => {\n    setNotificationMessage(message)\n    setNotificationType(type)\n    setTimeout(() => {\n      setNotificationMessage(null)\n    }, 5000)\n  }\n\n  const updatePerson = personToUpdate => {\n    if (window.confirm(`${personToUpdate.name} is already added to phonebook, replace the old number with a new one?`)) {\n      const updatedPerson = {...personToUpdate, number: newNumber}\n      personsService.update(personToUpdate.id, updatedPerson)\n        .then(person => {\n          setPersons(persons.map(p => p.id !== person.id ? p : person))\n          return person\n        })\n        .then(person => {\n          showNotification(`Updated ${person.name}'s number`, 'success')\n        })\n        .catch(error => {\n          showNotification(`Information of ${personToUpdate.name} has already been removed from the server`, 'error')\n          setPersons(persons.filter(p => p.id !== personToUpdate.id))\n        })\n    }\n  }\n\n  const addNewPerson = () => {\n    personsService.create({name: newName.trim(), number: newNumber.trim()})\n      .then(person => {\n        setPersons(persons.concat(person))\n        return person\n      })\n      .then(person => {\n        showNotification(`Added ${person.name}`, 'success')\n      })\n      .catch(error => {\n        const errorMessage = error.response.data.error\n        showNotification(errorMessage, 'error')\n      })\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    const matchPerson = persons.find(p => p.name.toLowerCase() === newName.trim().toLowerCase())\n\n    matchPerson !== undefined ? updatePerson(matchPerson) : addNewPerson()\n  }\n\n  const handleRemovePerson = id => {\n    const name = persons.find(p => p.id === id).name\n\n    if (window.confirm(`Delete ${name} ?`)) {\n      personsService.remove(id)\n        .then(() => {\n          setPersons(persons.filter(p => p.id !== id))\n        })\n        .then(() => {\n          showNotification(`Removed ${name}`, 'success')\n        })\n        .catch(error => {\n          showNotification(`Information of ${name} has already been removed from the server`, 'error')\n          setPersons(persons.filter(p => p.id !== id))\n        })\n    }\n  }\n\n  const handleNameFilterChange = event => setnameFilter(event.target.value)\n  const handleNameChange = event => setNewName(event.target.value)\n  const handleNumberChange = event => setNewNumber(event.target.value)\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={notificationMessage} type={notificationType}/>\n      <Filter value={nameFilter} onChange={handleNameFilterChange} />\n      <h2>add a new</h2>\n      <PersonForm onSubmit={handleSubmit} name={newName} onNameChange={handleNameChange} number={newNumber} onNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <Persons persons={persons} nameFilter={nameFilter} onRemove={handleRemovePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}